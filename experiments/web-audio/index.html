<!DOCTYPE html><html lang="en"> <head><meta charset="utf-8"><link rel="icon" type="image/x-icon" href="/assets/favicon.ico"><meta name="viewport" content="width=device-width"><meta name="generator" content="Astro v5.12.5"><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="apple-touch-icon" sizes="57x57" href="/assets/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tachyons/4.11.1/tachyons.min.css" integrity="sha512-d0v474klOFSF7qD9WDvyRxAvXaWSxCHDZdnBSZQjo8BpVr6vpjwAgqetpqkKP38DzlOzdVPaLVnzzW1Ba8wB9w==" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.5.0/semantic.min.css"><link href="https://unpkg.com/prismjs@1.20.0/themes/prism.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.22.0/prism.min.js" integrity="sha512-9+422Bs3A87UkWfp+qV80Nfv9arhbCXKY1rxrF2seorI36mIIstMiuBfyKLF1yH1nnzQkEWq2xrzT4XU3Z+vrA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.22.0/prism.min.js" integrity="sha512-9+422Bs3A87UkWfp+qV80Nfv9arhbCXKY1rxrF2seorI36mIIstMiuBfyKLF1yH1nnzQkEWq2xrzT4XU3Z+vrA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><title>Web Audio Code Generator</title><link rel="stylesheet" href="/_astro/_slug_.CT6lCUx2.css"></head> <body> <div class="ui top fixed menu" style="background-color: #f8f8f8;"> <div class="ui flex items-center"> <a class="mt1 ml1" href="/"> <img src="/assets/favicon-32x32.png" width="32" height="32" alt=""> </a> </div> <div class="right menu"> <a class="item f6" href="/writes"> write </a> <a class="item f6" href="/experiments"> experiment </a> <a class="item f6" href="/resume"> work </a> </div> </div>  <div class="pt4">  <div class="ui container" style="padding: 2rem 0;"> <div class="ui fluid card"> <div class="content"> <div class="header"> <h1 class="ui header"> <div class="content">Web Audio Code Generator</div> </h1> </div> </div> <div class="content"> <div class="ui two column stackable grid" style="margin: 0;"> <div class="column"> <div class="ui basic segment" style=" padding: 0 0 1rem 0;"> <div class="flex justify-between items-center bb b--light-gray h3" style="margin-bottom: 1rem;"> <div class="ui header"> <div>Controls</div> </div> </div> <div class="ui form"> <div class="field"> <label for="oscillatorType">Oscillator Type</label> <select id="oscillatorType" class="ui dropdown"> <option value="sine">Sine</option> <option value="square">Square</option> <option value="sawtooth">Sawtooth</option> <option value="triangle" selected>Triangle</option> </select> </div> <div class="field"> <label for="startFrequency">Start Frequency (<span id="startFreqValue">1200</span>Hz)</label> <div class="flex items-center justify-between"> <input type="range" id="startFrequency" min="50" max="2000" value="1200" step="50" class="ui slider w-100"> </div> </div> <div class="field"> <label for="endFrequency">End Frequency (<span id="endFreqValue">300</span>Hz)</label> <div class="flex items-center justify-between"> <input type="range" id="endFrequency" min="50" max="2000" value="300" step="50" class="ui slider w-100">
Àù
</div> </div> <div class="field"> <label for="startGain">Start Gain (<span id="startGainValue">0.5</span>)</label> <div class="flex items-center justify-between"> <input type="range" id="startGain" min="0" max="1" value="0.5" step="0.01" class="ui slider w-100"> </div> </div> <div class="field"> <label for="endGain">End Gain (<span id="endGainValue">0.01</span>)</label> <div class="flex items-center justify-between"> <input type="range" id="endGain" min="0" max="1" value="0.01" step="0.01" class="ui slider w-100"> </div> </div> <div class="field"> <label for="duration">Duration (<span id="durationValue">0.25</span>s)</label> <div class="flex items-center justify-between"> <input type="range" id="duration" min="0.1" max="2" value="0.25" step="0.05" class="ui slider w-100"> </div> </div> <div class="field"> <button class="ui primary button" id="playBtn">
Play Sound
</button> </div> </div> </div> </div> <div class="column"> <div class="ui basic segment" style="border: none; padding: 0;"> <div class="flex justify-between items-center bb b--light-gray h3" style="margin-bottom: 1rem;"> <div class="ui header"> <div>Generated Code</div> </div> <button class="ui button" id="copyBtn" style="margin-bottom: 1rem;">
Copy Code
</button> </div> <div class="ui segment" style="background-color: #f8f9fa; font-family: 'Courier New', monospace; margin: 0;"> <pre style="margin: 0; white-space: pre-wrap; overflow-x: auto;">                                    <code id="codeOutput" class="code">// Your generated code will appear here</code>
                                </pre> </div> </div> </div> </div> </div> </div> </div> <script>
        const $ = (selector) => document.querySelector(selector);
        // Audio context for playing sounds
        let audioContext = null;

        // Get DOM elements
        const oscillatorType = $("#oscillatorType");
        const startFrequency = $("#startFrequency");
        const endFrequency = $("#endFrequency");
        const startGain = $("#startGain");
        const endGain = $("#endGain");
        const duration = $("#duration");
        const playBtn = $("#playBtn");
        const copyBtn = $("#copyBtn");
        const codeOutput = $("#codeOutput");

        // Update value displays
        function updateValueDisplays() {
            $("#startFreqValue").textContent = startFrequency.value;
            $("#endFreqValue").textContent = endFrequency.value;
            $("#startGainValue").textContent = startGain.value;
            $("#endGainValue").textContent = endGain.value;
            $("#durationValue").textContent = duration.value;
        }

        // Generate code based on current parameters
        function generateCode() {
            const code = `
try {
  const audioContext = new window.AudioContext();
  const ctx = audioContext;
  const osc = ctx.createOscillator();
  const gain = ctx.createGain();

  osc.type = "${oscillatorType.value}";
  osc.frequency.setValueAtTime(${startFrequency.value}, ctx.currentTime);
  osc.frequency.exponentialRampToValueAtTime(
      ${endFrequency.value},
      ctx.currentTime + ${duration.value},
  );

  gain.gain.setValueAtTime(${startGain.value}, ctx.currentTime);
  gain.gain.exponentialRampToValueAtTime(
      ${endGain.value},
      ctx.currentTime + ${duration.value},
  );

  osc.connect(gain);
  gain.connect(ctx.destination);
  osc.start();
  osc.stop(ctx.currentTime + ${duration.value});
} catch (e) {
    console.log("Audio playback failed:", e);
}`;

            codeOutput.innerHTML = `<code>${code}</code>`;
        }

        // Play sound with current parameters
        function playSound() {
            try {
                if (!audioContext) {
                    audioContext = new (window.AudioContext ||
                        window.webkitAudioContext)();
                }

                const ctx = audioContext;
                const osc = ctx.createOscillator();
                const gain = ctx.createGain();

                osc.type = oscillatorType.value;
                osc.frequency.setValueAtTime(
                    parseFloat(startFrequency.value),
                    ctx.currentTime,
                );
                osc.frequency.exponentialRampToValueAtTime(
                    parseFloat(endFrequency.value),
                    ctx.currentTime + parseFloat(duration.value),
                );

                gain.gain.setValueAtTime(
                    parseFloat(startGain.value),
                    ctx.currentTime,
                );
                gain.gain.exponentialRampToValueAtTime(
                    parseFloat(endGain.value),
                    ctx.currentTime + parseFloat(duration.value),
                );

                osc.connect(gain);
                gain.connect(ctx.destination);
                osc.start();
                osc.stop(ctx.currentTime + parseFloat(duration.value));
            } catch (e) {
                console.log("Audio playback failed:", e);
            }
        }

        // Copy code to clipboard
        function copyCode() {
            const code = codeOutput.textContent;
            navigator.clipboard
                .writeText(code)
                .then(() => {
                    copyBtn.innerHTML = "Copied!";
                    copyBtn.classList.add("positive");
                    setTimeout(() => {
                        copyBtn.innerHTML = "Copy Code";
                        copyBtn.classList.remove("positive");
                    }, 2000);
                })
                .catch((err) => {
                    console.error("Failed to copy code:", err);
                });
        }

        // Event listeners
        [
            oscillatorType,
            startFrequency,
            endFrequency,
            startGain,
            endGain,
            duration,
        ].forEach((element) => {
            element.addEventListener("input", () => {
                updateValueDisplays();
                generateCode();
            });
        });

        playBtn.addEventListener("click", playSound);
        copyBtn.addEventListener("click", copyCode);

        // Initialize
        updateValueDisplays();
        generateCode();
    </script>  </div> <footer class="flex justify-between"> <div>I'm Joe Maddalone</div> <div><i>This is not a blog, these pages are changed all the time.</i></div> </footer> </body></html>