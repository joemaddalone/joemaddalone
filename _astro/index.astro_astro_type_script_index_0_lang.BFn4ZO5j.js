import{i as u}from"./index.esm.VVaSr4b5.js";const R=document.querySelector.bind(document),_=document.createElement.bind(document),A=1e4,I=500,M="#eee",C=.12,E=-5,y=5,D=10,L=40,O="blur(4px)";let h=!1;const p=["red","green","blue"],f=(e,n)=>e+Math.random()*(n-e),i=_("canvas");i.id="c";const S=R("#container"),x=document.getElementById("code"),P=document.getElementById("showPath");P&&P.addEventListener("change",e=>{h=e.target.checked});const a=document.body.clientWidth,d=I,r=window.devicePixelRatio||1;i.style.width=a+"px";i.style.height=d+"px";i.width=Math.floor(a*r);i.height=Math.floor(d*r);const t=i.getContext("2d");t&&r!==1&&t.scale(r,r);S&&S.appendChild(i);let o=[];function T(){o.length<A&&o.push({x:a/2,y:d/2,xspeed:f(E,y),yspeed:f(E,y),size:f(D,L),shape:"circle",color:p[Math.floor(Math.random()*p.length)]})}function b(){for(let e=0;e<o.length;e++){const n=o[e];n.y+=n.yspeed,n.x+=n.xspeed,n.size-=C}}function k(){let e=0;for(let n=0;n<o.length;n++){const s=o[n];s.size>0&&(e!==n&&(o[e]=s),e++)}o.length=e}function v(){if(!t||o.length===0)return;const e=new u,n=new u;let s=p[0];for(let l=0;l<o.length;l++){const c=o[l];e[c.shape](c.size,c.x,c.y),l!==o.length-1&&h&&(n.moveTo(c.x,c.y),n.lineTo(o[l+1].x,o[l+1].y)),s=c.color}const g=e.toString();x&&(x.textContent=g);const m=new Path2D(g);h?t.filter="none":t.filter=O,t.fillStyle=s,h?(t.strokeStyle="#222",t.lineWidth=1.5,t.stroke(m),t.strokeStyle="#ccc",t.lineWidth=.5,t.stroke(new Path2D(n.toString()))):t.fill(m)}const w=()=>{t&&(t.clearRect(0,0,a,d),t.fillStyle=M,t.fillRect(0,0,a,d),T(),v(),b(),k(),requestAnimationFrame(w))};w();
