import{j as i}from"./jsx-runtime.D_zvdyIk.js";import{r as h}from"./index.CQ95-tCy.js";import{P as y,u as R,a as T,k as $,c as b}from"./react-spring_web.modern.DV1DeU0j.js";/* empty css                       */import"./index.DO352gg1.js";const v=({char:e,color:a})=>{const s="0123456789".split(""),l=R({top:s.indexOf(e)*55*-1,from:{top:0},config:{tension:100,friction:15,duration:75}});return i.jsx("div",{className:"tiles",children:i.jsx("div",{className:"tile",children:i.jsx(T.div,{style:l,className:"char-holder",children:s.map(u=>{const x=`tile-char ${u===e?"active":""}`,g={color:a};return i.jsx("div",{style:g,className:x,children:u},u)})})})})};v.propTypes={char:y.string,color:y.string};const I=(e,a)=>Math.floor(Math.random()*(a-e+1))+e,O=({str:e,color:a})=>i.jsx("div",{className:"spinners-holder",children:e.split("").map((s,l)=>i.jsx(v,{char:s,color:a},l))}),A=()=>{const e={width:650,height:300},a=Array.from({length:e.width/6-1},()=>I(100,999)).sort((o,n)=>o-n),s=h.useRef(null),[l,u]=h.useState({x:0,y:0}),[S,x]=h.useState(null),[g,j]=h.useState(null),[C,M]=h.useState([]),[B,p]=h.useState(""),[E,m]=h.useState("");h.useLayoutEffect(()=>{const o=document.createElement("canvas"),n=o.getContext("2d");o.width=s.current.width,o.height=s.current.height,n.clearRect(0,0,s.current.width,s.current.height),n.fillStyle="transparent",n.fillRect(0,0,s.current.width,s.current.height),n.fillStyle="#ccc8",a.forEach((c,f)=>{const r=o.height,t={x:f*6+6,y:r-c/4,w:4,h:c/4,value:c};n.fillRect(t.x,t.y,t.w,t.h),M(N=>[...N,t])}),j(o),s.current.getContext("2d").drawImage(o,0,0,s.current.width,s.current.height)},[]);const w=()=>{p(""),m("")},d=o=>{s.current.getContext("2d");const n=s.current.getBoundingClientRect(),c=o?.touches?o.touches[0].clientX-n.left:o.clientX-n.left,f=o?.touches?o.touches[0].clientY-n.top:o.clientY-n.top,r=C.find(t=>t.x<=c&&t.x+t.w>=c);if(r){p(i.jsx(b,{width:r.w,height:r.h,cx:r.x+r.w/2,cy:r.y+r.h/2,className:"highlight"}));const t={x:c+25,y:f-22,w:110,h:45};c+t.w+25>n.width&&(t.x=c-25-t.w),t.y-t.h/2<0&&(t.y=0),t.y+t.h>n.height&&(t.y=n.height-t.h),m(i.jsx("div",{className:"infobox",style:{top:t.y,left:t.x},children:i.jsx(O,{str:r.value.toString(),color:"#fff"})}))}};return i.jsxs("div",{style:{position:"relative",width:`${e.width}px`,height:`${e.height}px`},children:[i.jsx("canvas",{style:{position:"absolute",top:0,left:0},width:e.width,height:e.height,ref:s,onMouseMove:d,onMouseOut:w,onTouchStart:d,onTouchMove:d,onTouchEnd:w}),i.jsx($,{style:{pointerEvents:"none",position:"absolute",top:0,left:0,background:"transparent"},width:e.width,height:e.height,viewBox:`0 0 ${e.width} ${e.height}`,children:B}),E]})};export{A as default};
