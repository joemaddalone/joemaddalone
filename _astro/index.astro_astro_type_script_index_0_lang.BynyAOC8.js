import{i as d}from"./index.esm.VVaSr4b5.js";const p=document.querySelector.bind(document),f=document.querySelectorAll.bind(document),u=document.createElement.bind(document),n=u("canvas"),s=n.getContext("2d");n.id="c";f(".shape-button").forEach(e=>{e.addEventListener("click",()=>{p("#shape").value=e.dataset.shape})});const b=e=>{const t=u("video");return t.id="player",t.muted=!0,t.setAttribute("loop","true"),t.style.display="none",t.innerHTML+=`<source src="${e}" type="video/mp4" />`,t},L=()=>{const e=b("/assets/exp/video/ddd.mp4"),t=p("#container");t&&(t.appendChild(e),t.appendChild(n),e.addEventListener("loadedmetadata",function(){setInterval(P.bind(this),10)},!1),e.play())},P=()=>{const e=p("#player");if(!(e instanceof HTMLVideoElement)||!(n instanceof HTMLCanvasElement))return;var t=e.videoWidth,m=e.videoHeight;n.width=800,n.height=480;const v=400;s.clearRect(0,0,t,m);const g=p("#shape").value;let o;const i=n.width/2,c=n.height/2;switch(g){case"star":o=new d().star(450,200,5,n.width/2,n.height/2);break;case"ellipse":o=new d().ellipse(v,480,i,c);break;case"regPolygon":o=new d().regPolygon(450,5,i,c);break;case"x":const l=8,h=d.radialPoints(225,i,c,l),r=d.radialPoints(0,i,c,l);o=new d().M(r[0][0],r[0][1]);for(let a=0;a<l;a+=2)o=o.L(h[a][0],h[a][1]).L(h[a+1][0],h[a+1][1]).L(r[a+1][0],r[a+1][1]).L(r[(a+2)%l][0],r[(a+2)%l][1]);break}const w=new Path2D(o.toString());s.translate(i,c);const y=e.currentTime*Math.PI*3/e.duration;s.rotate(y),s.translate(-i,-c),s.clip(w),s.setTransform(1,0,0,1,0,0),s.drawImage(e,0,0,n.width,n.height)};L();
