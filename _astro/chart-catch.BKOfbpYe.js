import{j as i}from"./jsx-runtime.D_zvdyIk.js";import{r as c}from"./index.CQ95-tCy.js";import{P as w,u as R,a as T,k as $,c as b}from"./react-spring_web.modern.DV1DeU0j.js";/* empty css                       */import"./index.DO352gg1.js";const y=({char:t,color:h})=>{const e="0123456789".split(""),l=R({top:e.indexOf(t)*55*-1,from:{top:0},config:{tension:100,friction:15,duration:75}});return i.jsx("div",{className:"tiles",children:i.jsx("div",{className:"tile",children:i.jsx(T.div,{style:l,className:"char-holder",children:e.map(u=>{const x=`tile-char ${u===t?"active":""}`,g={color:h};return i.jsx("div",{style:g,className:x,children:u},u)})})})})};y.propTypes={char:w.string,color:w.string};const I=(t,h)=>Math.floor(Math.random()*(h-t+1))+t,O=({str:t,color:h})=>i.jsx("div",{className:"spinners-holder",children:t.split("").map((e,l)=>i.jsx(y,{char:e,color:h},l))}),A=()=>{const t={width:650,height:300},h=Array.from({length:t.width/6-1},()=>I(100,999)).sort((s,o)=>s-o),e=c.useRef(null),[l,u]=c.useState({x:0,y:0}),[S,x]=c.useState(null),[g,j]=c.useState(null),[C,M]=c.useState([]),[B,p]=c.useState(""),[E,m]=c.useState("");c.useLayoutEffect(()=>{const s=document.createElement("canvas"),o=s.getContext("2d");s.width=e.current.width,s.height=e.current.height,o.clearRect(0,0,e.current.width,e.current.height),o.fillStyle="transparent",o.fillRect(0,0,e.current.width,e.current.height),o.fillStyle="#ccc8",h.forEach((a,f)=>{const r=s.height,n={x:f*6+6,y:r-a/4,w:4,h:a/4,value:a};o.fillRect(n.x,n.y,n.w,n.h),M(N=>[...N,n])}),j(s),e.current.getContext("2d").drawImage(s,0,0,e.current.width,e.current.height)},[]);const v=()=>{p(""),m("")},d=s=>{e.current.getContext("2d");const o=e.current.getBoundingClientRect(),a=s?.touches?s.touches[0].clientX-o.left:s.clientX-o.left,f=s?.touches?s.touches[0].clientY-o.top:s.clientY-o.top,r=C.find(n=>n.x<=a&&n.x+n.w>=a);if(r){p(i.jsx(b,{width:r.w,height:r.h,cx:r.x+r.w/2,cy:r.y+r.h/2,className:"highlight"}));const n={x:a+25,y:f-60};m(i.jsx("div",{className:"infobox",style:{top:n.y,left:n.x},children:i.jsx(O,{str:r.value.toString(),color:"#fff"})}))}};return i.jsxs("div",{style:{position:"relative",width:`${t.width}px`,height:`${t.height}px`},children:[i.jsx("canvas",{style:{position:"absolute",top:0,left:0},width:t.width,height:t.height,ref:e,onMouseMove:d,onMouseOut:v,onTouchStart:d,onTouchMove:d,onTouchEnd:v}),i.jsx($,{style:{pointerEvents:"none",position:"absolute",top:0,left:0,background:"transparent"},width:t.width,height:t.height,viewBox:`0 0 ${t.width} ${t.height}`,children:B}),E]})};export{A as default};
