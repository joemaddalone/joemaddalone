import{i as d}from"./index.esm.VVaSr4b5.js";const p=document.querySelector.bind(document),b=document.querySelectorAll.bind(document),u=document.createElement.bind(document),n=u("canvas"),s=n.getContext("2d");n.id="c";b(".shape-button").forEach(e=>{e.addEventListener("click",()=>{p("#shape").value=e.dataset.shape})});const f=e=>{const t=u("video");return t.id="player",t.muted=!0,t.setAttribute("loop","true"),t.setAttribute("playsinline","true"),t.setAttribute("autoplay","true"),t.style.display="none",t.innerHTML=`<source src="${e}" type="video/mp4" />`,t},L=()=>{const e=f("/assets/exp/video/ddd.mp4"),t=p("#container");t&&(t.appendChild(e),t.appendChild(n),e.addEventListener("loadedmetadata",function(){console.log("loaded!"),setInterval(P.bind(this),10)},!1),e.play())},P=()=>{const e=p("#player");if(!(e instanceof HTMLVideoElement)||!(n instanceof HTMLCanvasElement))return;var t=e.videoWidth,m=e.videoHeight;n.width=800,n.height=480;const v=400;s.clearRect(0,0,t,m);const g=p("#shape").value;let o;const i=n.width/2,r=n.height/2;switch(g){case"star":o=new d().star(450,200,5,n.width/2,n.height/2);break;case"ellipse":o=new d().ellipse(v,480,i,r);break;case"regPolygon":o=new d().regPolygon(450,5,i,r);break;case"x":const l=8,h=d.radialPoints(225,i,r,l),c=d.radialPoints(0,i,r,l);o=new d().M(c[0][0],c[0][1]);for(let a=0;a<l;a+=2)o=o.L(h[a][0],h[a][1]).L(h[a+1][0],h[a+1][1]).L(c[a+1][0],c[a+1][1]).L(c[(a+2)%l][0],c[(a+2)%l][1]);break}const y=new Path2D(o.toString());s.translate(i,r);const w=e.currentTime*Math.PI*3/e.duration;s.rotate(w),s.translate(-i,-r),s.clip(y),s.setTransform(1,0,0,1,0,0),s.drawImage(e,0,0,n.width,n.height)};L();
