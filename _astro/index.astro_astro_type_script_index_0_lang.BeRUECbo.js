import{i as P}from"./index.esm.VVaSr4b5.js";const R=document.querySelector.bind(document),_=document.createElement.bind(document),A=1e4,I=500,M="#eee",w=.12,u=-5,E=5,C=10,L=40,O="blur(4px)";let h=!1;const p=["red","green","blue"],f=(t,e)=>t+Math.random()*(e-t),c=_("canvas");c.id="c";const m=R("#container"),y=document.getElementById("code"),x=document.getElementById("showPath");x&&x.addEventListener("change",t=>{h=t.target.checked});const a=document.body.clientWidth,d=I,r=window.devicePixelRatio||1;c.style.width=a+"px";c.style.height=d+"px";c.width=Math.floor(a*r);c.height=Math.floor(d*r);const n=c.getContext("2d");n&&r!==1&&n.scale(r,r);m&&m.appendChild(c);let o=[];function b(){o.length<A&&o.push({x:a/2,y:d/2,xspeed:f(u,E),yspeed:f(u,E),size:f(C,L),shape:"circle",color:p[Math.floor(Math.random()*p.length)]})}function D(){for(let t=0;t<o.length;t++){const e=o[t];e.y+=e.yspeed,e.x+=e.xspeed,e.size-=w}}function H(){let t=0;for(let e=0;e<o.length;e++){const l=o[e];l.size>0&&(t!==e&&(o[t]=l),t++)}o.length=t}function T(){if(!n||o.length===0)return;const t=new P;let e=p[0];for(let i=0;i<o.length;i++){const s=o[i];t[s.shape](s.size,s.x,s.y),i!==o.length-1&&h&&t.lineTo(o[i+1].x,o[i+1].y),e=s.color}const l=t.toString();y&&(y.textContent=l);const g=new Path2D(l);h?n.filter="none":n.filter=O,n.fillStyle=e,h?(n.strokeStyle="#222",n.lineWidth=1.5,n.stroke(g)):n.fill(g)}const S=()=>{n&&(n.clearRect(0,0,a,d),n.fillStyle=M,n.fillRect(0,0,a,d),b(),T(),D(),H(),requestAnimationFrame(S))};S();
