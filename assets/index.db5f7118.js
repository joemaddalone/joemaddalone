var V=Object.defineProperty;var E=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var A=(r,t,s)=>t in r?V(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s,D=(r,t)=>{for(var s in t||(t={}))X.call(t,s)&&A(r,s,t[s]);if(E)for(var s of E(t))N.call(t,s)&&A(r,s,t[s]);return r};var h=(r,t,s)=>(A(r,typeof t!="symbol"?t+"":t,s),s);import"./modulepreload-polyfill.b7f2da20.js";/* empty css              */const U=function(r,t,s,o=!0){return this.ellipse(r,r,t,s,o)},W=function(r,t,s,o,n=!0){const i=s-r/2,e=i+r,a=o-t/2,c=a+t;return this.M(i,o).L(e,o).M(s,c).L(s,a),n&&this.M(s,o),this},G=function(r,t,s,o,n=!0){const i=r/2,e=t/2;return this.M(s+i,o).A(i,e,0,0,1,s-i,o).A(i,e,0,0,1,s+i,o).close(),n&&this.M(s,o),this},J=function(r,t,s,o,n=!0){return this.M(s-r/2,o).Q(s,o-t,s+r/2,o).Q(s,o+t,s-r/2,o),n&&this.M(s,o),this},K=function(r,t,s,o,n=!1){return this.constructor.positionByArray(r,t,s,o).forEach((e,a,c)=>{const{cx:f,cy:l,ri:p,ci:m,size:d}=e,$=d/2,b=c.find(M=>M.ri===p&&M.ci===m-1),L=c.find(M=>M.ri===p&&M.ci===m+1),H=c.find(M=>M.ri===p-1&&M.ci===m),P=c.find(M=>M.ri===p+1&&M.ci===m),y=f-$,Q=f+$,S=l-$,F=l+$;(!b||n)&&(this.M(y,S),this.v(d)),L||(this.M(Q,S),this.v(d)),(!H||n)&&(this.M(y,S),this.h(d)),P||(this.M(y,F),this.h(d))}),this},O=function(r){return this.polyline(r).close(),this},Y=function(r,t,s,o,n=2,i=!0){return this.polygon(this.constructor.radialPoints(r/2,s,o,t,null,n)),i&&this.M(s,o),this},Z=function(r,t=!1){const s=[...r],o=s.shift(),n=t?this.m:this.M,i=t?this.l:this.L;return n.apply(null,o),s.forEach(e=>{i.apply(null,e)}),this},z=function(r,t,s,o,n,i=!0){const e=this.constructor.radialPoints(t/2,o,n,s),a=this.constructor.radialPoints(r/2,o,n,s);return e.forEach((c,f)=>{this.M(c[0],c[1]).L(a[f][0],a[f][1])}),i&&this.M(o,n),this},_=function(r,t,s,o,n=!0){return this.M(s-r/2,o-t/2).right(r).down(t).left(r).up(t),n&&this.M(s,o),this},x=function(r,t,s,o,n=!0){return this.polygon(this.constructor.radialPoints(r/2,s,o,t)),n&&this.M(s,o),this},tt=function(r,t,s,o,n,i=!0){const e=n-t/2,a=o-r/2,c=a+r,f=e+t;let l=Math.min(s,r/2);l=l<0?0:l;let p=Math.min(s,t/2);p=p<0?0:p;const m=Math.max(r-l*2,0),d=Math.max(t-p*2,0);return this.M(a+l,e).right(m).A(l,p,0,0,1,c,e+p).down(d).A(l,p,0,0,1,c-l,f).left(m).A(l,p,0,0,1,a,f-p).up(d).A(l,p,0,0,1,a+l,e).M(a,e),i&&this.M(o,n),this},st=function(r,t,s,o,n=!0){return this.roundedRect(r,r,t,s,o,n)},ot=function(r,t,s,o,n,i=!0){const e=s/2,a=this.constructor.polarToCartesian(r,t,e,n-90),c=this.constructor.polarToCartesian(r,t,e,o-90),f=n-o<=180?0:1;return this.M(a.x,a.y).A(e,e,0,f,0,c.x,c.y).L(r,t).L(a.x,a.y),i&&this.M(r,t),this},rt=function(r,t,s,o,n,i=!0){const e=s/2,a=this.constructor.polarToCartesian(r,t,e,n-90),c=this.constructor.polarToCartesian(r,t,e,o-90),f=n-o<=180?0:1;return this.M(a.x,a.y).A(e,e,0,f,0,c.x,c.y),i&&this.M(r,t),this},nt=function(r,t,s,o=!0){return this.rect(r,r,t,s,o)},it=function(r,t,s,o,n,i=!0){const e=t/2,a=r/2,c=360/(s*2),l=Array.from({length:s*2}).map((p,m)=>{let d=m%2==0?a:e,$=c*m-90;const{x:b,y:L}=this.constructor.polarToCartesian(o,n,d,$,i);return[b,L]});return this.polygon(l),i&&this.M(o,n),this},et=function(r,t,s,o,n=!0){const i=s-r/2,e=i+r,a=o-t/2,c=a+t;return this.M(i,a).L(i,c).M(i,o).L(e,o).M(e,a).L(e,c),n&&this.M(s,o),this},at=function(r,t,s,o,n=!0){const i=s-r/2,e=i+r,a=o-t/2,c=a+t;return this.M(i,a).L(e,a).M(s,a).L(s,c).M(i,c).L(e,c),n&&this.M(s,o),this},ht=function(r,t,s,o,n=!0){const i=s-r/2,e=i+r,a=o-t/2,c=a+t;return this.M(i,a).L(e,c).M(i,c).L(e,a),n&&this.M(s,o),this},ct=function(r,t,s,o=!0){const n=Math.sqrt(3),i=[t,s-n/3*r],e=[t-r/2,s+n/6*r],a=[t+r/2,s+n/6*r];return this.polygon([i,e,a]),o&&this.M(t,s),this},C=class{constructor(){h(this,"attr",(t,s)=>(this.attributes[t]=s,this));h(this,"fill",t=>this.attr("fill",t));h(this,"stroke",t=>this.attr("stroke",t));h(this,"strokeWidth",t=>this.attr("stroke-width",t));h(this,"style",t=>this.attr("style",t));h(this,"m",(t,s)=>this.moveTo(t,s,!0));h(this,"M",(t,s)=>this.moveTo(t,s));h(this,"moveTo",(t,s,o=!1)=>(this.pathData.push(`${o?"m":"M"}${t} ${s}`),this));h(this,"l",(t,s)=>this.lineTo(t,s,!0));h(this,"L",(t,s)=>this.lineTo(t,s));h(this,"lineTo",(t,s,o=!1)=>(this.pathData.push(`${o?"l":"L"}${t} ${s}`),this));h(this,"H",t=>this.horizontalTo(t));h(this,"h",t=>this.horizontalTo(t,!0));h(this,"horizontalTo",(t,s=!1)=>(this.pathData.push(`${s?"h":"H"}${t}`),this));h(this,"V",t=>this.verticalTo(t));h(this,"v",t=>this.verticalTo(t,!0));h(this,"verticalTo",(t,s=!1)=>(this.pathData.push(`${s?"v":"V"}${t}`),this));h(this,"Q",(t,s,o,n)=>this.qCurve(t,s,o,n));h(this,"q",(t,s,o,n)=>this.qCurve(t,s,o,n,!0));h(this,"qCurve",(t,s,o,n,i=!1)=>(this.pathData.push(`${i?"q":"Q"}${t} ${s} ${o} ${n}`),this));h(this,"T",(t,s)=>this.tCurveTo(t,s));h(this,"t",(t,s)=>this.tCurveTo(t,s,!0));h(this,"tCurveTo",(t,s,o=!1)=>(this.pathData.push(`${o?"t":"T"}${t} ${s}`),this));h(this,"C",(t,s,o,n,i,e)=>this.cCurve(t,s,o,n,i,e));h(this,"c",(t,s,o,n,i,e)=>this.cCurve(t,s,o,n,i,e,!0));h(this,"cCurve",(t,s,o,n,i,e,a=!1)=>(this.pathData.push(`${a?"c":"C"}${t} ${s} ${o} ${n} ${i} ${e}`),this));h(this,"S",(t,s,o,n)=>this.sCurveTo(t,s,o,n));h(this,"s",(t,s,o,n)=>this.sCurveTo(t,s,o,n,!0));h(this,"sCurveTo",(t,s,o,n,i=!1)=>(this.pathData.push(`${i?"s":"S"}${t} ${s} ${o} ${n}`),this));h(this,"A",(t,s,o,n,i,e,a)=>this.arc(t,s,o,n,i,e,a));h(this,"a",(t,s,o,n,i,e,a)=>this.arc(t,s,o,n,i,e,a,!0));h(this,"arc",(t,s,o,n,i,e,a,c=!1)=>(this.pathData.push(`${c?"a":"A"}${t} ${s} ${o} ${n} ${i} ${e} ${a}`),this));h(this,"down",t=>this.v(t));h(this,"up",t=>this.v(t*-1));h(this,"right",t=>this.h(t));h(this,"left",t=>this.h(t*-1));h(this,"close",()=>(this.pathData.push("z"),this));h(this,"toArray",()=>this.pathData);h(this,"toString",()=>this.pathData.join(""));h(this,"toElement",(t={})=>{const s=D(D({},this.attributes),t),o=document.createElementNS("http://www.w3.org/2000/svg","path");return Object.keys(s).forEach(n=>{o.setAttribute(n,s[n])}),o.setAttribute("d",this.toString()),o});return this.pathData=[],this.attributes={},this}};let u=C;h(u,"angleInRadians",t=>t*Math.PI/180),h(u,"polarToCartesian",(t,s,o,n)=>{const i=C.angleInRadians(n);return{x:t+o*Math.cos(i),y:s+o*Math.sin(i)}}),h(u,"radialPoints",(t,s,o,n,i,e=1)=>{i=i||-.5*Math.PI,t=t||1e-10;const a=2*Math.PI*e/n,c=Array.from(Array(n>=0?n:0).keys()),f=Math.max(0,4-Math.floor(Math.log10(t)));return c.map((l,p)=>{const m=p*a+i;return[(s+t*Math.cos(m)).toFixed(f),(o+t*Math.sin(m)).toFixed(f)]})}),h(u,"positionByArray",(t,s,o,n)=>{const i=[],e=t/2;return s.forEach((a,c)=>{a.forEach((f,l)=>{f&&i.push({size:t,cx:l*t+e+o,cy:c*t+e+n,ri:c,ci:l,value:f})})}),i}),h(u,"macro",(t,s)=>{C.prototype[t]=s});u.macro("rect",_);u.macro("square",nt);u.macro("roundedSquare",st);u.macro("roundedRect",tt);u.macro("circle",U);u.macro("ellipse",G);u.macro("lens",J);u.macro("polyline",Z);u.macro("polygon",O);u.macro("regPolygon",x);u.macro("polygram",Y);u.macro("radialLines",z);u.macro("star",it);u.macro("triangle",ct);u.macro("sector",ot);u.macro("segment",rt);u.macro("cross",W);u.macro("symH",et);u.macro("symI",at);u.macro("symX",ht);u.macro("omino",K);const ut=document.getElementById("ex3"),lt=ut.getContext("2d"),ft=new Path2D(new u().triangle(70,150,50).toString());lt.stroke(ft);let q=0,I=0,g=1,T=1;const R=20,k=R/2,v=document.getElementById("ex4"),w=v.getContext("2d");v.getBoundingClientRect();const B=(r,t)=>r+R>t||r<0,j=()=>{w.clearRect(0,0,v.width,v.height),T=B(I+T,v.height)?-T:T,g=B(q+g,v.width)?-g:g,q+=g,I+=T;const r=new u().square(R,q+k,I+k).toString();w.stroke(new Path2D(r)),requestAnimationFrame(j)};j();
